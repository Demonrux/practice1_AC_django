# Система для поиска и анализа данных из базы данных PostgreSQL через веб-интерфейс.
<img width="700" height="500" alt="image" src="https://github.com/user-attachments/assets/c2d6e6f3-3c21-4142-ab88-b0c397a8c5eb" />

## Структура проекта
### Проект состоит из двух основных компонентов:
- **`Django-приложение`** - веб-интерфейс для поиска
- **`FastAPI-сервис`** - API для выполнения запросов к базе данных

## Установка и запуск
### Предварительные требования
- Python 3.8+
- PostgreSQL
- Виртуальное окружение (рекомендуется)

### Настройка аутентификации
- Создайте файл с учетными данными для подключения к БД (указывается через переменную окружения AUTH_FILE):

```bash
echo "DB_IP
DB_PORT
DB_USER
DB_PASSWORD" > auth.txt
```
### Установите переменную окружения:

```bash
export AUTH_FILE=path/to/auth.txt
```
## Установка зависимостей

## Основные зависимости:
- Django
- FastAPI
- SQLAlchemy
- pandas
- requests
- uvicorn

## Запуск приложения
### Запуск FastAPI сервиса (порт 8001):

```bash
uvicorn query:alpha_query --host 0.0.0.0 --port 8001
```
### Запуск Django сервера (порт 8000):

``bash
python manage.py runserver
``
## Использование
### Веб-интерфейс
Откройте в браузере: http://localhost:8000

#### Доступные функции:
- Поиск по ID (только цифры)
- Поиск по имени (минимум 2 символа)
- Выбор таблиц для поиска
- Просмотр результатов в табличном виде или в виде аккордеона
-- Фильтрация по датам

Структура проекта
```text
project/
├── app/
│   ├── views.py          
│   ├── urls.py          
│   └── templates/
│       ├── search.html   
│       └── results.html
|   └── static/
|       └── app/
|            ├── js/
|              ├── results_script.js
|              └── search_script.js
|            └── css/
|               ├── results.css
|              └── search.css        
├── config/
│   ├── settings.py      
│   ├── urls.py         
│   └── wsgi.py          
├── query.py            
├── manage.py         
```

## Особенности
- Поддержка CORS для API
- Валидация входных данных
- Обработка ошибок
- Асинхрнные запросы
- Адаптивный интерфейс
- Фильтрация и сортировка результатов
- Подсветка найденных результатов

## Безопасность
- Валидация пользовательского ввода
- Обработка SQL-инъекций через параметризованные запросы
- Ограничение на длину запросов
- Защита от XSS

## Разработка
### Для разработки рекомендуется:
- Использовать виртуальное окружение
- Включить DEBUG mode только для разработки
- Настроить правильные настройки базы данных
- Использовать .env файл для конфиденциальных данных
